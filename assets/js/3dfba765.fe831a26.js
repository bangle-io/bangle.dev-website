(self.webpackChunkbangle_dev_website=self.webpackChunkbangle_dev_website||[]).push([[5650],{8215:function(e,t,n){"use strict";var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,l=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:l},t)}},5064:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=n(7294),l=n(9443);var r=function(){var e=(0,a.useContext)(l.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},i=n(6010),u="tabItem_1uMI",o="tabItemActive_2DSg";var c=37,s=39;var p=function(e){var t=e.lazy,n=e.block,l=e.defaultValue,p=e.values,m=e.groupId,d=e.className,g=r(),f=g.tabGroupChoices,h=g.setTabGroupChoices,v=(0,a.useState)(l),y=v[0],b=v[1],E=a.Children.toArray(e.children),k=[];if(null!=m){var w=f[m];null!=w&&w!==y&&p.some((function(e){return e.value===w}))&&b(w)}var x=function(e){var t=e.currentTarget,n=k.indexOf(t),a=p[n].value;b(a),null!=m&&(h(m,a),setTimeout((function(){var e,n,a,l,r,i,u,c;(e=t.getBoundingClientRect(),n=e.top,a=e.left,l=e.bottom,r=e.right,i=window,u=i.innerHeight,c=i.innerWidth,n>=0&&r<=c&&l<=u&&a>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(o),setTimeout((function(){return t.classList.remove(o)}),2e3))}),150))},C=function(e){var t,n;switch(e.keyCode){case s:var a=k.indexOf(e.target)+1;n=k[a]||k[0];break;case c:var l=k.indexOf(e.target)-1;n=k[l]||k[k.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},d)},p.map((function(e){var t=e.value,n=e.label;return a.createElement("li",{role:"tab",tabIndex:y===t?0:-1,"aria-selected":y===t,className:(0,i.Z)("tabs__item",u,{"tabs__item--active":y===t}),key:t,ref:function(e){return k.push(e)},onKeyDown:C,onFocus:x,onClick:x},n)}))),t?(0,a.cloneElement)(E.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},E.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==y})}))))}},7386:function(e,t,n){"use strict";n.d(t,{bz:function(){return p},T9:function(){return d},ae:function(){return f}});var a=n(3552),l=n(7294),r=n(5697),i=n.n(r),u=n(1756),o=n(5064),c=n(8215),s=n(1262);function p(e){var t=e.filePath,n=e.language,a=e.createEditor,r=e.defaultTab,i=void 0===r?"example":r,u=e.onEditorReady,o=void 0===u?function(){}:u,c=e.SideCar,s=(0,l.useRef)(a),p=(0,l.useState)(!1),g=p[0],f=p[1],h=(0,l.useCallback)((function(){return l.createElement(m,{createEditor:s.current,onReady:f})}),[s,f]);return l.createElement(l.Fragment,null,l.createElement(d,{filePath:t,language:n,component:h,defaultTab:i}),g?o(g):null,g&&c?l.createElement(c,{editor:g}):null)}function m(e){var t=e.createEditor,n=e.onReady,a=(0,l.useRef)();return(0,l.useEffect)((function(){var e=t(a.current);return n(e),function(){e.destroy()}}),[t,n]),l.createElement("div",{ref:a})}function d(e){var t=e.filePath,n=e.language,a=e.component,r=e.defaultTab,i=void 0===r?"example":r;return l.createElement(h,null,l.createElement(o.Z,{defaultValue:i,values:[{label:"Example",value:"example"},{label:"Source code",value:"src"}]},l.createElement(c.Z,{value:"example"},l.createElement(s.Z,null,a)),l.createElement(c.Z,{value:"src"},l.createElement(g,{filePath:t,language:n}))))}function g(e){var t=e.filePath,n=e.language,a=void 0===n?"js":n,r=(0,l.useState)(),i=r[0],o=r[1];return(0,l.useEffect)((function(){var e=!1;return function(e){return fetch(e).then((function(e){return e.text()}))}(t).then((function(t){e||o(t)})).catch((function(n){console.error(n),e||o("Error: Could not load source code at "+t)})),function(){e=!0}}),[o,t]),i?l.createElement(u.Z,{className:"language-"+a},i):"loading..."}function f(e){var t="",n="";return e.split(/>\s*</).forEach((function(e){e.match(/^\/\w/)&&(n=n.substring("  ".length)),t+=n+"<"+e+">\r\n",e.match(/^<?\w[^>]*[^\/]$/)&&(n+="  ")})),t.substring(1,t.length-3)}d.propTypes={component:i().func.isRequired,language:i().string,filePath:i().string.isRequired};var h=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(t=e.call.apply(e,[this].concat(a))||this).state={hasError:!1},t}return(0,a.Z)(t,e),t.getDerivedStateFromError=function(e){return{hasError:!0}},t.prototype.render=function(){return this.state.hasError?l.createElement("div",{style:{margin:"2rem 2rem",padding:"1rem 2rem",backgroundColor:"red",color:"white"}},"Whoops! There was an error loading this example, please file a github issue to report it"):this.props.children},t}(l.PureComponent)},7472:function(e,t,n){"use strict";n.r(t),n.d(t,{contentTitle:function(){return R},default:function(){return Z},frontMatter:function(){return B},metadata:function(){return H},toc:function(){return q}});var a=n(2122),l=n(9756),r=n(7294),i=n(3905),u=(n(5064),n(8215),n(7386)),o=n(5521),c=n(9133),s=n(4919),p=n(407),m=new o.H$("menuKey");function d(){var e=(0,c.sZ)({specs:[p.Se.spec(),p.pU.spec(),p.p4.spec(),p.dq.spec(),p.iI.spec(),p.qb.spec(),p.An.spec(),p.nP.spec()],plugins:function(){return[p.Se.plugins(),p.pU.plugins(),p.p4.plugins(),p.dq.plugins(),p.iI.plugins(),p.qb.plugins(),p.An.plugins(),p.nP.plugins(),s.PS.plugins({key:m})]},initialValue:'<div>\n    <p>Hi there, try selecting me to see a floating menu</p>\n    <p>Also, checkout this awesome <a href="https://blog.ycombinator.com/the-airbnbs/">article!</a></p>\n    </div>'});return r.createElement(c.uF,{state:e},r.createElement(s.AH,{menuKey:m}))}var g=new o.H$("menuKey");function f(){var e=(0,c.sZ)({specs:[p.An.spec(),p.nP.spec()],plugins:function(){return[p.An.plugins(),p.nP.plugins(),s.PS.plugins({key:g,calculateType:function(e,t){return p.nP.commands.queryIsHeadingActive()(e)?"headingSubMenu":e.selection.empty?null:"defaultMenu"}})]},initialValue:"<div>\n      <p>Hello I am a paragraph, please upgrade me to a heading.</p>\n      <h3>I am a heading try selecting me</h3>\n    </div>"});return r.createElement(c.uF,{state:e},r.createElement(s.AH,{menuKey:g,renderMenuType:function(e){var t=e.type;return"headingSubMenu"===t?r.createElement(s.v2,null,r.createElement(s.GG,null)):"defaultMenu"===t?r.createElement(s.v2,null,r.createElement(s.kS,null,r.createElement(s.RB,{level:1}),r.createElement(s.RB,{level:2}))):null}}))}var h=new o.H$("menuKey");function v(){var e=(0,c.sZ)({specs:[p.dq.spec(),p.iI.spec(),p.qb.spec(),p.An.spec(),p.nP.spec()],plugins:function(){return[p.dq.plugins(),p.iI.plugins(),p.qb.plugins(),p.An.plugins(),p.nP.plugins(),s.PS.plugins({key:h,tooltipRenderOpts:{placement:"bottom"},calculateType:function(e){return e.selection.empty?null:"defaultMenu"}})]},initialValue:"<div>\n      <p>Select me to change my type</p>\n    </div>"});return r.createElement(c.uF,{state:e},r.createElement(s.AH,{menuKey:h,renderMenuType:function(e){return"defaultMenu"===e.type?r.createElement(s.v2,null,r.createElement(s.ep,{parent:function(e){var t=e.isDropdownVisible,n=e.updateDropdown;return r.createElement(y,{isDropdownVisible:t,updateDropdown:n})}},r.createElement(s.GG,{hintPos:"right"},"Paragraph"),r.createElement(s.RB,{hintPos:"right",level:1},"Heading 1"),r.createElement(s.fV,{hintPos:"right"},"Bullet List"),r.createElement(s.pu,{hintPos:"right"},"Ordered List"),r.createElement(s.d3,{hintPos:"right"},"Todo List"))):null}}))}function y(e){var t=e.isDropdownVisible,n=e.updateDropdown,a=(0,c.Lg)(),l=(0,r.useCallback)((function(e){e.preventDefault(),n((function(e){return!e}))}),[n]),i="paragraph";return p.dq.queryIsOrderedListActive()(a.state)?i="Ordered List":p.iI.queryIsBulletListActive()(a.state)?i="Bullet List":p.iI.queryIsTodoListActive()(a.state)?i="Todo List":p.nP.queryIsHeadingActive(1)(a.state)&&(i="Heading 1"),r.createElement(s.j2,{onMouseDown:l,isDisabled:!1},r.createElement("span",null,i),t?r.createElement(s.Kh,null):r.createElement(s._M,null))}var b=n(3714),E=new o.H$("menuKey");function k(){var e=(0,c.sZ)({specs:[p.dq.spec(),p.iI.spec(),p.qb.spec(),p.An.spec(),p.nP.spec()],plugins:function(){return[p.dq.plugins(),p.iI.plugins(),p.qb.plugins(),p.An.plugins(),p.nP.plugins(),s.PS.plugins({key:E,tooltipRenderOpts:{placement:"right"},calculateType:function(e){var t=e.selection.$from.parent;return e.selection.empty&&t&&0===t.content.size?"defaultMenu":null}})]},initialValue:"<div>\n      <p>Hey this example is cool, ain't it?</p>\n      <p></p>\n    </div>"});return r.createElement(c.uF,{state:e,onReady:function(e){var t=e.view;w(t.state.doc)(t.state,t.dispatch)}},r.createElement(s.AH,{menuKey:E,renderMenuType:function(e){return"defaultMenu"===e.type?r.createElement(s.v2,{style:{backgroundColor:"transparent",color:"dark"===document.documentElement.getAttribute("data-theme")?"white":"black"}},r.createElement(s.GG,null),r.createElement(s.YC,null),r.createElement(s.RB,{level:1}),r.createElement(s.RB,{level:2}),r.createElement(s.fV,null),r.createElement(s.pu,null),r.createElement(s.d3,null)):null}}))}var w=function(e){return function(t,n,a){var l=e.nodeSize-1;"doc"===e.type.name&&(l=e.content.size-1);var r=(0,b.B0)(l)(t.tr);return n&&n(r),!0}},x=new o.H$("menuKey");function C(){return r.createElement(s.j2,{hintPos:"top",hint:"Hola",onMouseDown:function(e){e.preventDefault()},isActive:!0},r.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r.createElement("text",{x:"12",y:"12",stroke:"currentColor",textAnchor:"middle",alignmentBaseline:"central",dominantBaseline:"middle"},"Hi")))}function T(){var e=(0,c.sZ)({specs:[p.nP.spec(),p.An.spec()],plugins:function(){return[p.nP.plugins(),p.An.plugins(),s.PS.plugins({key:x,calculateType:function(e,t){return e.selection.empty?null:"defaultMenu"}})]},initialValue:"<div>\n      <p>Hello I am a paragraph.</p>\n    </div>"});return r.createElement(c.uF,{state:e},r.createElement(s.AH,{menuKey:x,renderMenuType:function(e){return"defaultMenu"===e.type?r.createElement(s.v2,null,r.createElement(s.kS,null,r.createElement(C,null)),r.createElement(s.kS,null,r.createElement(s.RB,{level:2}),r.createElement(s.RB,{level:3}))):null}}))}var P=n.p+"bd022dbd6223bc798900747e19b4f246.jsx",M=n.p+"52abb2589b00ea8cbf17652e89cd017d.jsx",N=n.p+"f8f4730de6e076baf1aad1603a9b5894.jsx",A=n.p+"aaf717c38d179dd93f6ad83789570fd5.jsx",I=n.p+"0f5d6c52689fd7f00a6daa91cdc2b7bf.jsx",S=["components"],B={title:"Floating Menu",id:"react-floating-menu",hide_title:!0},R=void 0,H={unversionedId:"examples/react-floating-menu",id:"examples/react-floating-menu",isDocsHomePage:!1,title:"Floating Menu",description:"Basic Floating menu",source:"@site/docs/examples/react-floating-menu.mdx",sourceDirName:"examples",slug:"/examples/react-floating-menu",permalink:"/docs/examples/react-floating-menu",editUrl:"https://github.com/bangle-io/bangle.dev-website/edit/main/docs/examples/react-floating-menu.mdx",version:"current",frontMatter:{title:"Floating Menu",id:"react-floating-menu",hide_title:!0},sidebar:"docs",previous:{title:"Basic Editor in React",permalink:"/docs/examples/react-basic-editor"},next:{title:"Static Menu",permalink:"/docs/examples/react-static-menu"}},q=[{value:"Basic Floating menu",id:"basic-floating-menu",children:[]},{value:"Customizing menu buttons",id:"customizing-menu-buttons",children:[]},{value:"Customizing floating menu type",id:"customizing-floating-menu-type",children:[]},{value:"Changing the tooltip style",id:"changing-the-tooltip-style",children:[]},{value:"Menu Dropdown",id:"menu-dropdown",children:[]}],D={toc:q};function Z(e){var t=e.components,n=(0,l.Z)(e,S);return(0,i.kt)("wrapper",(0,a.Z)({},D,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"basic-floating-menu"},"Basic Floating menu"),(0,i.kt)("p",null,"Below is an example of a floating menu which gets activated when you select something. Bangle picks some reasonable default menu types, but you are free to customize it as shown in the next example."),(0,i.kt)(u.T9,{filePath:P,language:"jsx",component:function(){return(0,i.kt)(d,{mdxType:"Example1"})},mdxType:"ReactCodeExample"}),(0,i.kt)("p",null,"Try some of the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Try selecting some lines."),(0,i.kt)("li",{parentName:"ul"},"Try to Bold the text."),(0,i.kt)("li",{parentName:"ul"},"Click on the link to see a link editor."),(0,i.kt)("li",{parentName:"ul"},"Select some text and try ",(0,i.kt)("inlineCode",{parentName:"li"},"Command\u2013k"),"(Mac) or ",(0,i.kt)("inlineCode",{parentName:"li"},"Ctrl-k"),"(PC) to add a link."),(0,i.kt)("li",{parentName:"ul"},"Copy a link and try pasting it directly on a selected text.")),(0,i.kt)("h2",{id:"customizing-menu-buttons"},"Customizing menu buttons"),(0,i.kt)("p",null,"If you are not happy with the buttons, you can customize the the menu buttons as shown below"),(0,i.kt)(u.T9,{filePath:I,language:"jsx",component:function(){return(0,i.kt)(T,{mdxType:"Example5"})},mdxType:"ReactCodeExample"}),(0,i.kt)("h2",{id:"customizing-floating-menu-type"},"Customizing floating menu type"),(0,i.kt)("p",null,"In the example below we define a custom menu type ",(0,i.kt)("inlineCode",{parentName:"p"},"headingSubMenu"),", which gets activated when a user is inside a ",(0,i.kt)("inlineCode",{parentName:"p"},"heading")," node."),(0,i.kt)(u.T9,{filePath:M,language:"jsx",component:function(){return(0,i.kt)(f,{mdxType:"Example2"})},mdxType:"ReactCodeExample"}),(0,i.kt)("p",null,"It is totally up to you on how you define a ",(0,i.kt)("inlineCode",{parentName:"p"},"type")," in ",(0,i.kt)("a",{parentName:"p",href:"/docs/api/react_menu#plugins---plugins"},"calculateType"),"\nand what you render for that type, see ",(0,i.kt)("a",{parentName:"p",href:"/docs/api/react_menu#floatingmenu-reactelement"},"renderMenuType"),"."),(0,i.kt)("h2",{id:"changing-the-tooltip-style"},"Changing the tooltip style"),(0,i.kt)("p",null,"In this example, the expressive nature of Bangle's API really starts shining \u2600\ufe0f! We create a medium style menu by changing the direction of tooltip to ",(0,i.kt)("inlineCode",{parentName:"p"},"right")," and triggering it on a new line."),(0,i.kt)(u.T9,{filePath:A,language:"jsx",component:function(){return(0,i.kt)(k,{mdxType:"Example4"})},mdxType:"ReactCodeExample"}),(0,i.kt)("p",null,"Try some of the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Create new line by pressing enter to see the menu show up."),(0,i.kt)("li",{parentName:"ul"},"Secret tip: You can use ",(0,i.kt)("inlineCode",{parentName:"li"},"Command-Enter")," (Mac) or ",(0,i.kt)("inlineCode",{parentName:"li"},"Ctrl-Enter")," (PC) anywhere in Bangle create a new paragraph below without worrying if you are at the end of line or not. Add a ",(0,i.kt)("inlineCode",{parentName:"li"},"shift")," to it, to create one above."),(0,i.kt)("li",{parentName:"ul"},"Also, see the menu activate whenever you create a new empty node like Heading, TodoList, BulletList etc.")),(0,i.kt)("h2",{id:"menu-dropdown"},"Menu Dropdown"),(0,i.kt)("p",null,"In the example below we build a dropdown menu which allows us to change the node type."),(0,i.kt)(u.T9,{filePath:N,language:"jsx",component:function(){return(0,i.kt)(v,{mdxType:"Example3"})},mdxType:"ReactCodeExample"}),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"See API docs:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/api/react_menu"},"@bangle.dev/react-menu"))))}Z.isMDXComponent=!0}}]);