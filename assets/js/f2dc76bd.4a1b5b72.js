(self.webpackChunkbangle_dev_website=self.webpackChunkbangle_dev_website||[]).push([[1987],{9133:function(e,t,n){"use strict";n.d(t,{uF:function(){return v},KW:function(){return h},sZ:function(){return y},Lg:function(){return x},JY:function(){return E}});var r=n(391),a=n(7728),i=n(3784),o=n(7294),s=n(5697),u=n.n(s),c=n(3935);let l=()=>{};const d=new WeakMap;function f(e){const[t,n]=(0,o.useState)([]);return(0,o.useEffect)((()=>{let t=!1;var a;return(0,r.w3)(e.current,(a=e=>{t||n((t=>e(t)))},{create:(e,t)=>{l("create",i.qr.get(e)),a((t=>[...t,e]))},update:(e,t)=>{l("update",i.qr.get(e));const n=d.get(e);n&&n()},destroy:e=>{l("destroy",i.qr.get(e)),a((t=>t.filter((t=>t!==e))))}})),()=>{t=!0}}),[e]),t}let p=()=>{};class m extends o.PureComponent{constructor(e){super(e),Object.defineProperty(this,"update",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachToContentDOM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.update=()=>{this.setState(((e,t)=>({nodeViewProps:t.nodeView.getNodeViewProps()})))},this.attachToContentDOM=e=>{if(!e)return;const t=this.props.nodeView.contentDOM;e.contains(t)||(t.parentNode&&t.parentNode.removeChild(t),e.appendChild(t))},e.nodeViewUpdateStore.set(e.nodeView,this.update),this.state={nodeViewProps:this.props.nodeView.getNodeViewProps()}}getChildren(){return this.props.nodeView.contentDOM?this.state.nodeViewProps.node.isInline?o.createElement("span",{className:"bangle-nv-child-container",ref:this.attachToContentDOM}):o.createElement("div",{className:"bangle-nv-child-container",ref:this.attachToContentDOM}):null}render(){p("react rendering",i.qr.get(this.props.nodeView));const e=this.props.renderNodeViews({...this.state.nodeViewProps,children:this.getChildren()});if(!e)throw(0,i.Bo)("renderNodeView prop must return a react element for the node",this.state.nodeViewProps.node),new Error(`renderNodeView must handle rendering for node of type "${this.state.nodeViewProps.node.type.name}"`);return e}}Object.defineProperty(m,"propTypes",{enumerable:!0,configurable:!0,writable:!0,value:{nodeView:u().object.isRequired,renderNodeViews:u().func.isRequired,nodeViewUpdateStore:u().instanceOf(WeakMap).isRequired}});u().bool.isRequired,u().instanceOf(a.NB).isRequired,u().instanceOf(a.tk).isRequired,u().func.isRequired,u().object.isRequired,u().object.isRequired,u().func.isRequired,u().oneOfType([u().element,u().arrayOf(u().element)]).isRequired;let g=()=>{};const h=o.createContext(null);function v({id:e,state:t,children:n,focusOnInit:a=!0,pmViewOpts:s,renderNodeViews:u,className:l,style:p,onReady:g=(()=>{})}){const v=(0,o.useRef)(null),w=(0,o.useRef)(g),y=(0,o.useRef)({state:t,focusOnInit:a,pmViewOpts:s}),[E,x]=(0,o.useState)(),V=f(v);if((0,o.useEffect)((()=>{const e=new r.uF(v.current,y.current);return e.view._updatePluginWatcher=b(e),w.current(e),x(e),()=>{e.destroy()}}),[]),V.length>0&&null==u)throw new Error("When using nodeViews, you must provide renderNodeViews callback");return o.createElement(o.Fragment,null,o.createElement("div",{ref:v,id:e,className:l,style:p}),V.map((e=>c.createPortal(o.createElement(m,{debugKey:i.qr.get(e),nodeViewUpdateStore:d,nodeView:e,renderNodeViews:u}),e.containerDOM,i.qr.get(e)))),E?o.createElement(h.Provider,{value:E.view},n):null)}const b=e=>(t,n=!1)=>{if(e.destroyed)return;let r=e.view.state;const a=n?r.plugins.filter((e=>e!==t)):[...r.plugins,t];r=r.reconfigure({plugins:a}),g("Adding watching to existing state",t),e.view.updateState(r)};v.propTypes={id:u().string,renderNodeViews:u().func,onReady:u().func,children:u().oneOfType([u().element,u().arrayOf(u().element)]),state:u().instanceOf(r._n).isRequired,pmViewOpts:u().object,className:u().string,style:u().object};let w=()=>{};function y(e){if(e.plugins&&"function"!=typeof e.plugins)throw new Error("plugins error: plugins must be a function");const[t]=(0,o.useState)((()=>new r._n(e)));return t}function E(e,t=!1){const n=x(),[r,s]=(0,o.useState)(e.getState(n.state));return(0,o.useEffect)((()=>{w("Setup plugin",e);let r=s;t&&(r=(0,i.N3)(s));const o=function(e,t){return new a.Sy({key:new a.H$(`withPluginState_${e.key}`),view:()=>({update(n,r){const{state:a}=n;if(r===a)return;const i=e.getState(a);i!==e.getState(r)&&t(i)}})})}(e,r);return n._updatePluginWatcher(o),()=>{t&&r.cancel(),n._updatePluginWatcher(o,!0)}}),[n,e,t]),r}function x(){return(0,o.useContext)(h)}},8215:function(e,t,n){"use strict";var r=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,a=e.className;return r.createElement("div",{role:"tabpanel",hidden:n,className:a},t)}},5064:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7294),a=n(9443);var i=function(){var e=(0,r.useContext)(a.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},o=n(6010),s="tabItem_1uMI",u="tabItemActive_2DSg";var c=37,l=39;var d=function(e){var t=e.lazy,n=e.block,a=e.defaultValue,d=e.values,f=e.groupId,p=e.className,m=i(),g=m.tabGroupChoices,h=m.setTabGroupChoices,v=(0,r.useState)(a),b=v[0],w=v[1],y=r.Children.toArray(e.children),E=[];if(null!=f){var x=g[f];null!=x&&x!==b&&d.some((function(e){return e.value===x}))&&w(x)}var V=function(e){var t=e.currentTarget,n=E.indexOf(t),r=d[n].value;w(r),null!=f&&(h(f,r),setTimeout((function(){var e,n,r,a,i,o,s,c;(e=t.getBoundingClientRect(),n=e.top,r=e.left,a=e.bottom,i=e.right,o=window,s=o.innerHeight,c=o.innerWidth,n>=0&&i<=c&&a<=s&&r>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(u),setTimeout((function(){return t.classList.remove(u)}),2e3))}),150))},k=function(e){var t,n;switch(e.keyCode){case l:var r=E.indexOf(e.target)+1;n=E[r]||E[0];break;case c:var a=E.indexOf(e.target)-1;n=E[a]||E[E.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},p)},d.map((function(e){var t=e.value,n=e.label;return r.createElement("li",{role:"tab",tabIndex:b===t?0:-1,"aria-selected":b===t,className:(0,o.Z)("tabs__item",s,{"tabs__item--active":b===t}),key:t,ref:function(e){return E.push(e)},onKeyDown:k,onFocus:V,onClick:V},n)}))),t?(0,r.cloneElement)(y.filter((function(e){return e.props.value===b}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},y.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==b})}))))}},7386:function(e,t,n){"use strict";n.d(t,{bz:function(){return d},T9:function(){return p},ae:function(){return g}});var r=n(3552),a=n(7294),i=n(5697),o=n.n(i),s=n(1756),u=n(5064),c=n(8215),l=n(1262);function d(e){var t=e.filePath,n=e.language,r=e.createEditor,i=e.defaultTab,o=void 0===i?"example":i,s=e.onEditorReady,u=void 0===s?function(){}:s,c=e.SideCar,l=(0,a.useRef)(r),d=(0,a.useState)(!1),m=d[0],g=d[1],h=(0,a.useCallback)((function(){return a.createElement(f,{createEditor:l.current,onReady:g})}),[l,g]);return a.createElement(a.Fragment,null,a.createElement(p,{filePath:t,language:n,component:h,defaultTab:o}),m?u(m):null,m&&c?a.createElement(c,{editor:m}):null)}function f(e){var t=e.createEditor,n=e.onReady,r=(0,a.useRef)();return(0,a.useEffect)((function(){var e=t(r.current);return n(e),function(){e.destroy()}}),[t,n]),a.createElement("div",{ref:r})}function p(e){var t=e.filePath,n=e.language,r=e.component,i=e.defaultTab,o=void 0===i?"example":i;return a.createElement(h,null,a.createElement(u.Z,{defaultValue:o,values:[{label:"Example",value:"example"},{label:"Source code",value:"src"}]},a.createElement(c.Z,{value:"example"},a.createElement(l.Z,null,r)),a.createElement(c.Z,{value:"src"},a.createElement(m,{filePath:t,language:n}))))}function m(e){var t=e.filePath,n=e.language,r=void 0===n?"js":n,i=(0,a.useState)(),o=i[0],u=i[1];return(0,a.useEffect)((function(){var e=!1;return function(e){return fetch(e).then((function(e){return e.text()}))}(t).then((function(t){e||u(t)})).catch((function(n){console.error(n),e||u("Error: Could not load source code at "+t)})),function(){e=!0}}),[u,t]),o?a.createElement(s.Z,{className:"language-"+r},o):"loading..."}function g(e){var t="",n="";return e.split(/>\s*</).forEach((function(e){e.match(/^\/\w/)&&(n=n.substring("  ".length)),t+=n+"<"+e+">\r\n",e.match(/^<?\w[^>]*[^\/]$/)&&(n+="  ")})),t.substring(1,t.length-3)}p.propTypes={component:o().func.isRequired,language:o().string,filePath:o().string.isRequired};var h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hasError:!1},t}return(0,r.Z)(t,e),t.getDerivedStateFromError=function(e){return{hasError:!0}},t.prototype.render=function(){return this.state.hasError?a.createElement("div",{style:{margin:"2rem 2rem",padding:"1rem 2rem",backgroundColor:"red",color:"white"}},"Whoops! There was an error loading this example, please file a github issue to report it"):this.props.children},t}(a.PureComponent)},5228:function(e,t,n){"use strict";n.r(t),n.d(t,{contentTitle:function(){return p},default:function(){return v},frontMatter:function(){return f},metadata:function(){return m},toc:function(){return g}});var r=n(2122),a=n(9756),i=n(7294),o=n(3905),s=n.p+"fe6f664bdb13496e1f484a7b4664bbcd.jsx",u=(n(5064),n(8215),n(9133));function c(){var e=(0,u.sZ)({initialValue:"Hello world!"});return i.createElement(u.uF,{state:e})}n(1262);var l=n(7386),d=["components"],f={title:"Basic Editor in React",id:"react-basic-editor"},p=void 0,m={unversionedId:"examples/react-basic-editor",id:"examples/react-basic-editor",isDocsHomePage:!1,title:"Basic Editor in React",description:"Below is an example of a Bangle editor with bare minimum functionality.",source:"@site/docs/examples/react-basic-editor.mdx",sourceDirName:"examples",slug:"/examples/react-basic-editor",permalink:"/docs/examples/react-basic-editor",editUrl:"https://github.com/bangle-io/bangle.dev-website/edit/main/docs/examples/react-basic-editor.mdx",version:"current",frontMatter:{title:"Basic Editor in React",id:"react-basic-editor"},sidebar:"docs",previous:{title:"Collapsible Headings",permalink:"/docs/examples/collapsible"},next:{title:"Floating Menu",permalink:"/docs/examples/react-floating-menu"}},g=[],h={toc:g};function v(e){var t=e.components,n=(0,a.Z)(e,d);return(0,o.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Below is an example of a Bangle editor with bare minimum functionality."),(0,o.kt)("p",null,"Try some of the following:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Typing things"),(0,o.kt)("li",{parentName:"ul"},"undo and redo keyboard shortcuts")),(0,o.kt)(l.T9,{filePath:s,language:"jsx",component:function(){return(0,o.kt)(c,{mdxType:"Component"})},mdxType:"ReactCodeExample"}))}v.isMDXComponent=!0}}]);